//! ludorum-game-connect4 0.1.1

(function(e){"use strict";this["ludorum-game-connect4"]=e(this.base,this.Sermat,this.ludorum)}).call(this,function e(t,i,r){"use strict";var n=t.declare,s=(t.raise,t.raiseIf),_=(t.Iterable,t.iterable,r.Game,r.players.UserInterface,{__package__:"ludorum-game-connect4",__name__:"ludorum_game_connect4",__init__:e,__dependencies__:[t,i,r],__SERMAT__:{include:[t,r]}}),a=_.ConnectFour=n(r.games.ConnectionGame,{name:"ConnectFour",height:6,width:7,lineLength:4,players:["Yellow","Red"],moves:function(){var e=null;if(!this.result()){for(var t=[],i=this.board,r=0;r<i.width;r++)for(var n=0;n<i.height;n++)if(i.isEmptySquare([n,r])){t.push(r);break}t.length>0&&((e={})[this.activePlayer()]=t)}return e},next:function(e,t,i){s(t,"Haps are not required (given ",t,")!");for(var r=this.activePlayer(),n=this.board,_=+e[r],a=n.height,o=(n.width,0);o<a;++o)if(n.isEmptySquare([o,_])){var h=r===this.players[0]?"0":"1";return i?(this.activatePlayers(this.opponent()),this.board.__place__([o,_],h),delete this.__moves__,delete this.__result__,this):new this.constructor(this.opponent(),this.board.place([o,_],h))}throw new Error("Invalid move "+JSON.stringify(e)+"!")},result:function(){for(var e=this.lineLength,t=this.board.asStrings(this.__lines__(this.height,this.width,e)).join(" "),i=0;i<this.players.length;++i)if(t.indexOf(i.toString(36).repeat(e))>=0)return this.victory([this.players[i]]);return t.indexOf(".")<0?this.tied():null},"static __SERMAT__":{identifier:"ConnectFour",serializer:function(e){return r.games.ConnectionGame.__SERMAT__.serializer(e)}}});return r.games.ConnectFour=a,a.__SERMAT__.identifier=_.__package__+"."+a.__SERMAT__.identifier,_.__SERMAT__.include.push(a),i.include(_),_});
//# sourceMappingURL=ludorum-game-connect4-tag.min.js.map