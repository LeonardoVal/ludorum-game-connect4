//! ludorum-game-connect4 0.1.1

function __init__(a,b,c){"use strict";var d=a.declare,e=(a.raise,a.raiseIf),f=(a.Iterable,a.iterable,c.Game,c.players.UserInterface,{__package__:"ludorum-game-connect4",__name__:"ludorum_game_connect4",__init__:__init__,__dependencies__:[a,b,c],__SERMAT__:{include:[a,c]}}),g=f.ConnectFour=d(c.games.ConnectionGame,{name:"ConnectFour",height:6,width:7,lineLength:4,players:["Yellow","Red"],moves:function(){var a=null;if(!this.result()){for(var b=[],c=this.board.string,d=(this.height-1)*this.width,e=0;e<c.length;++e)"."===c.charAt(d+e)&&b.push(e);b.length>0&&(a={},a[this.activePlayer()]=b)}return a},next:function(a,b,c){e(b,"Haps are not required (given ",b,")!");for(var d=this.activePlayer(),f=this.board.string,g=+a[d],h=this.height,i=this.width,j=0;j<h;++j)if("."===f.charAt(j*i+g)){var k=d===this.players[0]?"0":"1";return c?(this.activatePlayers(this.opponent()),this.board.__place__([j,g],k),delete this.__moves__,delete this.__result__,this):new this.constructor(this.opponent(),this.board.place([j,g],k))}throw new Error("Invalid move "+JSON.stringify(a)+"!")},result:function(){for(var a=this.lineLength,b=this.board.asStrings(this.__lines__(this.height,this.width,a)).join(" "),c=0;c<this.players.length;++c)if(b.indexOf(c.toString(36).repeat(a))>=0)return this.victory([this.players[c]]);return b.indexOf(".")<0?this.tied():null},"static __SERMAT__":{identifier:"ConnectFour",serializer:function(a){return c.games.ConnectionGame.__SERMAT__.serializer(a)}}});return c.games.ConnectFour=g,g.__SERMAT__.identifier=f.__package__+"."+g.__SERMAT__.identifier,f.__SERMAT__.include.push(g),b.include(f),f}
//# sourceMappingURL=ludorum-game-connect4-raw.min.js.map